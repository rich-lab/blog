<template>
  <div class="recommend">
    <h3>
      更多阅读
      <svg class="icon"
           style="width: 1.1em; height: 1.1em; position: relative; bottom: 5px; vertical-align: middle;fill: currentColor;overflow: hidden;"
           viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="11133">
        <path
          d="M357.824 841.088v-2.944c0.064-7.04 0.32-13.952 0.128-20.928a103.552 103.552 0 0 0-21.184-58.304c-6.016-7.808-13.376-14.336-20.288-21.312-4.864-5.184-4.8-5.184-9.536-10.432a294.848 294.848 0 0 1-61.184-113.664 307.072 307.072 0 0 1-1.088-161.088c10.112-37.76 27.584-73.536 51.52-104.448 12.352-16 26.432-30.656 41.92-43.648a270.592 270.592 0 0 1 68.352-41.856 255.872 255.872 0 0 1 93.312-20.16c7.104-0.128 7.04-0.128 14.144 0a256.448 256.448 0 0 1 80.768 15.232c18.944 6.848 37.12 15.936 54.016 26.88a288.832 288.832 0 0 1 118.4 161.216c11.712 40.128 14.976 82.752 9.664 124.288a297.792 297.792 0 0 1-53.696 136.768c-7.04 9.728-14.72 19.008-22.912 27.776-5.632 6.016-11.776 11.584-17.408 17.664-2.304 2.56-4.48 5.248-6.592 8-12.16 17.152-18.88 36.8-19.712 57.792a2796.16 2796.16 0 0 0-0.256 23.168c16.704 0.512 33.344 1.024 50.048 1.664 3.968 0.448 7.68 1.472 11.136 3.52a25.92 25.92 0 0 1 6.016 39.04 26.304 26.304 0 0 1-17.152 8.512c-35.968 1.344-72 2.368-107.968 3.008l-0.448 5.44a94.08 94.08 0 0 1-8.576 30.336c-12.992 26.88-38.976 46.208-68.48 50.752a91.84 91.84 0 0 1-72.064-19.84 91.776 91.776 0 0 1-32.768-61.248c-0.192-1.792-0.384-3.584-0.448-5.44a5518.592 5518.592 0 0 1-108.032-3.008 27.392 27.392 0 0 1-11.136-3.52 25.92 25.92 0 0 1-6.016-39.04 26.496 26.496 0 0 1 17.152-8.512c16.768-0.64 33.6-1.216 50.368-1.664z m109.12 56.384l0.192 1.664a42.432 42.432 0 0 0 12.672 23.616 40.704 40.704 0 0 0 54.08 0 40.64 40.64 0 0 0 12.864-25.28 5528.96 5528.96 0 0 1-79.808 0z m138.048-57.6l0.256-23.36a154.624 154.624 0 0 1 29.632-86.592c7.04-9.664 15.424-17.856 23.872-26.24 4.032-4.224 4.032-4.224 8-8.576a245.632 245.632 0 0 0 56.128-112.832 255.616 255.616 0 0 0-1.92-110.976 242.112 242.112 0 0 0-62.144-112.832 218.944 218.944 0 0 0-76.48-50.88 206.72 206.72 0 0 0-119.744-9.408 210.688 210.688 0 0 0-69.76 29.248 228.928 228.928 0 0 0-62.72 60.864 245.12 245.12 0 0 0-38.72 88.704 255.36 255.36 0 0 0 0.64 110.72 243.84 243.84 0 0 0 61.312 114.304c4.48 4.608 9.216 8.96 13.696 13.568a156.672 156.672 0 0 1 39.296 75.968c1.792 9.088 2.624 18.304 2.88 27.584l-0.128 20.736a5260.672 5260.672 0 0 1 195.904 0z m-416-498.944a25.664 25.664 0 0 1 23.232 34.112 24.96 24.96 0 0 1-4.864 8.256 25.024 25.024 0 0 1-18.368 8.768c-26.496 0.448-53.184 2.176-79.616-0.128a25.6 25.6 0 0 1-9.152-48.192 26.88 26.88 0 0 1 10.88-2.816c25.984-0.448 51.904-0.448 77.888 0z m723.904 0a25.024 25.024 0 0 1 18.368 8.768 25.792 25.792 0 0 1-18.368 42.368c-26.496 0.448-53.184 2.176-79.616-0.128a25.6 25.6 0 0 1-9.152-48.192 26.88 26.88 0 0 1 10.88-2.816c25.984-0.448 51.904-0.448 77.888 0z m-143.808-216.96a25.856 25.856 0 0 1 11.328 2.88 25.92 25.92 0 0 1 12.16 31.552 26.24 26.24 0 0 1-5.44 8.704c-18.432 19.008-35.904 39.488-56.512 56.32a25.728 25.728 0 0 1-41.472-18.816 25.984 25.984 0 0 1 6.976-18.816c18.432-19.008 35.904-39.552 56.512-56.32a27.648 27.648 0 0 1 10.56-4.992 26.176 26.176 0 0 1 5.888-0.512z m-524.544 0c6.016 0.256 11.52 2.496 16.128 6.464 19.712 18.112 39.872 36.224 56.832 57.024a26.688 26.688 0 0 1 5.312 19.392 25.92 25.92 0 0 1-32.832 20.992 25.6 25.6 0 0 1-10.112-5.888c-19.008-18.496-39.488-35.968-56.32-56.512a25.792 25.792 0 0 1 20.992-41.472zM507.712 39.616a25.6 25.6 0 0 1 24.64 22.976c2.304 27.008 2.304 54.336 0 81.344a25.792 25.792 0 0 1-48.256 9.152 26.88 26.88 0 0 1-2.816-10.88c-0.448-26.56-2.176-53.184 0.128-79.616a27.712 27.712 0 0 1 2.304-8.384c4.16-8.64 12.8-14.08 22.272-14.592h1.728z"
          fill="#515151" p-id="11134"></path>
      </svg>
    </h3>
    <!--<BlogPostPage v-for="page in pages" :page="page"/>-->
    <div class="recommend-page" v-for="page in pages">
      <NavLink :item="{ link: page.path, text: page.title }"/>
      <!--<span v-if="page.frontmatter.author">, {{ page.frontmatter.author }}</span>-->
      <!--<span v-if="page.frontmatter.description">, {{ page.frontmatter.description }}</span>-->
    </div>
  </div>
</template>

<script>
  import shuffle from 'lodash.shuffle'
  import BlogPostPage from '../layouts/BlogPostPage'
  import NavLink from './NavLink'

  export default {
    components: {
      BlogPostPage,
      NavLink,
    },

    created() {
      console.log(this.pages)
    },

    computed: {
      pages() {
        return shuffle(
          this.$site.pages.filter(page => {
            return page.path !== '/'
              && page.path !== "/blog/"
              && page.path !== "/translations/"
              && page.path !== this.$page.path
          })
        ).slice(0, 3)
      }
    }
  }
</script>

<style lang="stylus">
  .recommend {
    margin-top 2rem
    border: 1px dashed #eaecef;
    border-color: var(--border-color);
    border-radius: 4px;
    padding: 10px;
    
    .recommend-page {
      font-size 1rem
    }
  }
</style>
